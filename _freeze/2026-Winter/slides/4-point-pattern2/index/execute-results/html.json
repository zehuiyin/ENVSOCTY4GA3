{
  "hash": "6a13e25ac185002c5214f7959a64dfe6",
  "result": {
    "engine": "knitr",
    "markdown": "---\nformat: \n  revealjs:\n    pagetitle: \"Point Pattern II\"\n    menu: false\n    footer: \"2026 Zehui Yin\"\n---\n\n## Activity feedback\n\n:::{style=\"font-size: 0.7em;\"}\n- Assignments are evaluated as Satisfactory / Partially Satisfactory / Not Satisfactory, corresponding to full, half, or zero marks.\n  - Late submissions will be penalized (next time) according to the syllabus (**20%** on the first day, **10%** for each additional day).\n- Knit your document regularly as you work so that errors can be identified and corrected early.\n  - For this activity, submissions that did not knit successfully incurred a **20%** penalty (this will increase to **50%** next time).\n- Choose colour schemes carefully:\n  - Use a diverging colour scheme only when there is a meaningful neutral or zero reference level.\n- We have **two** activities each week, and you need to submit both in each submission.\n- A small $p$-value ($<0.05$) in the $\\chi^2$ test indicates that the point pattern is not random and shows spatial dependence.\n:::\n\n## Mathematical notation remainder\n\nSummation notation ($\\sum$):\n\n$$\n\\sum_{i=1}^Qx_i=x_1 + x_2 + \\cdots + x_Q\n$$\n\nFor all notation ($\\forall$):\n\n$$\nx_k = 1 \\hspace{0.2cm} \\forall k\\rightarrow x=1\n$$\n\n## $\\chi^2$ distribution\n\nStrictly non-negative, right-skewed, and non-symmetric.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-revealjs/unnamed-chunk-1-1.png){width=960}\n:::\n:::\n\n\n## Cumulative distribution function\n\n$F_X(x)=P(X \\leq x)$\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-revealjs/unnamed-chunk-2-1.png){width=960}\n:::\n:::\n\n\n## $\\hat{G}$-function\n\n$$\n\\hat{G}(r) = \\frac{1}{n(\\mathbf\nx)}\\sum_{i}\\mathbf 1\\{d_i \\le r\\}\n$$\n\nwhere $d_i = \\text{min}_{j \\ne i}\\Vert x_i-x_j\\Vert$\n\nThe $\\hat{G}$ function represents the number of elements in the set of distances up to some threshold $r$, normalized by the total number of points $n$ in point pattern $\\mathbf{x}$.\n\n## Pipe operator in R\n\nThe `|>` is the native pipe operator introduced in R 4.1.0.\n\nThe old pipe operator is `%>%` from `magrittr` package.\n\nIt allows chained expressions in place of nested expressions to improve code readability.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nv <- c(1, 2, 3, 4, 5)\nsum(sqrt(v))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 8.382332\n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nv |> \n  sqrt() |>\n  sum()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 8.382332\n```\n\n\n:::\n:::\n\n\nDo not confuse it with `+` in `ggplot2`; they are **not** the same thing.\n\n## Packages we use today\n\nLoad the following three packages.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(isdas)\nlibrary(sf)\nlibrary(tidyverse)\nlibrary(spatstat)\n```\n:::\n\n\nIf you have trouble restoring the reproducible environment, you need to manually install the packages first.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"remotes\")\nremotes::install_github(\"paezha/isdas\")\n\ninstall.packages(\"sf\")\n\ninstall.packages(\"tidyverse\")\n\ninstall.packages(\"spatstat\")\n```\n:::\n\n\n## Activities for today\n\n- We will work on the following chapter from the textbook:\n  - Chapter [12](https://paezha.github.io/spatial-analysis-r/activity-5-point-pattern-analysis-ii.html): Activity 5: Point Pattern Analysis II\n  - Chapter [14](https://paezha.github.io/spatial-analysis-r/activity-6-point-pattern-analysis-iii.html): Activity 6: Point Pattern Analysis III\n- The hard deadline is **Tuesday**, **February 3** (**8:00 am**).\n\n## Reference\n\n- <https://www.geo.fu-berlin.de/en/v/soga-r/Advances-statistics/Spatial-Point-Patterns/Analysis-of-Spatial-Point-Patterns/Interactions-in-Point-Pattern-Analysis/index.html>\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}